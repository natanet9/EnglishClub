{% extends 'base.html' %}
{% block content %}
<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>
<script>
  tailwind.config = {
    theme: {
      extend: {
        colors: {
          primary: '#153f68',
          secondary: '#4a7abc',
          accent: '#ffcc33',
          lightBg: '#e3edf7',
          lightBg2: '#f6fbff'
        },
        fontFamily: {
          'sans': ['Segoe UI', 'Tahoma', 'Geneva', 'Verdana', 'sans-serif']
        },
        animation: {
          'fadeIn': 'fadeIn 0.6s ease-out',
          'slideInUp': 'slideInUp 0.5s ease-out',
          'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
          'bounce-gentle': 'bounceGentle 2s ease-in-out infinite',
        },
        keyframes: {
          fadeIn: {
            '0%': { opacity: '0', transform: 'translateY(20px)' },
            '100%': { opacity: '1', transform: 'translateY(0)' }
          },
          slideInUp: {
            '0%': { opacity: '0', transform: 'translateY(30px)' },
            '100%': { opacity: '1', transform: 'translateY(0)' }
          },
          bounceGentle: {
            '0%, 100%': { transform: 'translateY(0)' },
            '50%': { transform: 'translateY(-5px)' }
          }
        }
      }
    }
  }
</script>

<div class="min-h-screen bg-gradient-to-br from-lightBg via-blue-50 to-lightBg2 py-8 px-4">
  <section class="container mx-auto max-w-7xl">
    <!-- Card Principal con Animación Mejorada -->
    <div class="bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/20 animate-fadeIn overflow-hidden">
      
      <!-- Header con Gradiente Dinámico -->
      <div class="relative bg-gradient-to-r from-primary via-secondary to-primary bg-[length:200%_100%] animate-pulse-slow p-8">
        <!-- Patrón decorativo de fondo -->
        <div class="absolute inset-0 opacity-10">
          <div class="absolute top-0 left-0 w-32 h-32 bg-accent rounded-full -translate-x-16 -translate-y-16"></div>
          <div class="absolute bottom-0 right-0 w-24 h-24 bg-white rounded-full translate-x-12 translate-y-12"></div>
          <div class="absolute top-1/2 right-1/4 w-16 h-16 bg-accent/50 rounded-full"></div>
        </div>
        
        <!-- Título con efectos mejorados -->
        <div class="relative z-10">
          <h1 class="text-white text-3xl md:text-4xl font-bold flex items-center justify-center md:justify-start">
            <div class="bg-accent/20 p-3 rounded-2xl mr-4 animate-bounce-gentle">
              <svg class="w-10 h-10 text-accent drop-shadow-lg" fill="currentColor" viewBox="0 0 16 16">
                <path d="M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2z"/>
                <path d="M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1z"/>
              </svg>
            </div>
            <span class="animate-pulse-slow tracking-wide">LISTA DE INSCRIPCIONES</span>
          </h1>
          <div class="mt-2 h-1 w-32 bg-accent rounded-full mx-auto md:mx-0 animate-pulse"></div>
        </div>
      </div>

      <!-- Contenido Principal -->
      <div class="p-8 bg-gradient-to-b from-gray-50/50 to-white">
        
        <!-- Mensajes con estilos mejorados -->
        {% if messages %}
          <div class="mb-8 space-y-4">
            {% for message in messages %}
              <div class="animate-slideInUp transform transition-all duration-300 hover:scale-[1.02]
                {% if message.tags == 'success' %}
                  bg-gradient-to-r from-green-50 to-emerald-50 border-l-4 border-green-400 text-green-800 shadow-green-100
                {% elif message.tags == 'error' %}
                  bg-gradient-to-r from-red-50 to-rose-50 border-l-4 border-red-400 text-red-800 shadow-red-100
                {% elif message.tags == 'warning' %}
                  bg-gradient-to-r from-yellow-50 to-amber-50 border-l-4 border-yellow-400 text-yellow-800 shadow-yellow-100
                {% else %}
                  bg-gradient-to-r from-blue-50 to-indigo-50 border-l-4 border-blue-400 text-blue-800 shadow-blue-100
                {% endif %} 
                p-4 rounded-r-xl shadow-lg" role="alert">
                <div class="flex items-center">
                  <div class="flex-shrink-0 mr-3">
                    {% if message.tags == 'success' %}
                      <svg class="w-5 h-5 text-green-500" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                      </svg>
                    {% elif message.tags == 'error' %}
                      <svg class="w-5 h-5 text-red-500" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>
                      </svg>
                    {% else %}
                      <svg class="w-5 h-5 text-blue-500" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
                      </svg>
                    {% endif %}
                  </div>
                  <div class="font-medium">{{ message }}</div>
                </div>
              </div>
            {% endfor %}
          </div>
        {% endif %}

        <!-- Botón Nueva Inscripción Mejorado -->
        <div class="mb-8 flex justify-end">
          <a href="{% url 'cursos:inscripcion_create' %}" 
             class="group relative inline-flex items-center px-8 py-4 bg-gradient-to-r from-secondary to-blue-600 text-white font-bold text-lg rounded-2xl shadow-xl hover:shadow-2xl transform transition-all duration-300 hover:scale-105 hover:-translate-y-1 focus:outline-none focus:ring-4 focus:ring-blue-300/50 animate-bounce-gentle overflow-hidden">
            
            <!-- Efecto de brillo -->
            <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -skew-x-12 -translate-x-full group-hover:translate-x-full transition-transform duration-1000"></div>
            
            <!-- Icono -->
            <div class="relative bg-accent/20 p-2 rounded-xl mr-3 group-hover:rotate-180 transition-transform duration-300">
              <svg class="w-6 h-6 text-accent" fill="currentColor" viewBox="0 0 16 16">
                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
              </svg>
            </div>
            
            <span class="relative z-10">Nueva Inscripción</span>
          </a>
        </div>

        <!-- Tabla Mejorada con Animaciones -->
        <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100">
          <div class="overflow-x-auto">
            <table class="w-full">
              <!-- Header de la tabla -->
              <thead class="bg-gradient-to-r from-secondary to-blue-600 text-white">
                <tr>
                  <th class="px-6 py-5 text-left font-bold text-sm uppercase tracking-wider">
                    <div class="flex items-center group">
                      <svg class="w-5 h-5 mr-2 group-hover:animate-bounce" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z"/>
                      </svg>
                      Estudiante
                    </div>
                  </th>
                  <th class="px-6 py-5 text-left font-bold text-sm uppercase tracking-wider">
                    <div class="flex items-center group">
                      <svg class="w-5 h-5 mr-2 group-hover:animate-bounce" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"/>
                      </svg>
                      Curso
                    </div>
                  </th>
                  <th class="px-6 py-5 text-left font-bold text-sm uppercase tracking-wider">
                    <div class="flex items-center group">
                      <svg class="w-5 h-5 mr-2 group-hover:animate-bounce" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M7.5 1.018a7 7 0 0 0-4.79 11.566L7.5 7.793V1.018zm1 0V7.793l4.79 4.791A7 7 0 0 0 8.5 1.018z"/>
                      </svg>
                      Nivel
                    </div>
                  </th>
                  <th class="px-6 py-5 text-left font-bold text-sm uppercase tracking-wider">
                    <div class="flex items-center group">
                      <svg class="w-5 h-5 mr-2 group-hover:animate-bounce" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z"/>
                      </svg>
                      Secretaria
                    </div>
                  </th>
                  <th class="px-6 py-5 text-left font-bold text-sm uppercase tracking-wider">
                    <div class="flex items-center group">
                      <svg class="w-5 h-5 mr-2 group-hover:animate-bounce" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>
                      </svg>
                      Fecha
                    </div>
                  </th>
                  <th class="px-6 py-5 text-left font-bold text-sm uppercase tracking-wider">
                    <div class="flex items-center group">
                      <svg class="w-5 h-5 mr-2 group-hover:animate-spin" fill="currentColor" viewBox="0 0 16 16">
                        <path d="M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"/>
                      </svg>
                      Acciones
                    </div>
                  </th>
                </tr>
              </thead>
              
              <!-- Cuerpo de la tabla -->
              <tbody class="divide-y divide-gray-100 bg-white">
                {% for inscripcion in inscripciones %}
                  <tr class="group hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-indigo-50/50 transition-all duration-300 hover:shadow-lg hover:scale-[1.01] transform">
                    <td class="px-6 py-4 text-gray-900 font-medium group-hover:text-primary transition-colors">
                      {{ inscripcion.estudiante }}
                    </td>
                    <td class="px-6 py-4 text-gray-700 group-hover:text-secondary transition-colors">
                      {{ inscripcion.curso }}
                    </td>
                    <td class="px-6 py-4 text-gray-700">
                      <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800 group-hover:bg-blue-200 transition-colors">
                        {{ inscripcion.nivel }}
                      </span>
                    </td>
                    <td class="px-6 py-4 text-gray-700 group-hover:text-secondary transition-colors">
                      {{ inscripcion.secretaria }}
                    </td>
                    <td class="px-6 py-4 text-gray-600 font-mono text-sm">
                      {{ inscripcion.fecha_inscripcion }}
                    </td>
                    <td class="px-6 py-4">
                      {% if user.rol == 'directivo' %}
                        <div class="flex space-x-3">
                          <a href="{% url 'cursos:inscripcion_edit' inscripcion.pk %}" 
                             class="group/btn inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white text-sm font-semibold rounded-lg hover:from-blue-600 hover:to-blue-700 hover:scale-110 transform transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-300 shadow-lg hover:shadow-xl">
                            <svg class="w-4 h-4 mr-1 text-accent group-hover/btn:animate-bounce" fill="currentColor" viewBox="0 0 16 16">
                              <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708L10.5 8.207l-3-3L12.146.146zm-8.5 8.5L2 14.207l5.5-1.646L3.646 8.646z"/>
                            </svg>
                            Editar
                          </a>
                          <a href="{% url 'cursos:inscripcion_delete' inscripcion.pk %}" 
                             class="group/btn inline-flex items-center px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white text-sm font-semibold rounded-lg hover:from-red-600 hover:to-red-700 hover:scale-110 transform transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-red-300 shadow-lg hover:shadow-xl">
                            <svg class="w-4 h-4 mr-1 text-accent group-hover/btn:animate-bounce" fill="currentColor" viewBox="0 0 16 16">
                              <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
                              <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
                            </svg>
                            Eliminar
                          </a>
                        </div>
                      {% else %}
                        <span class="text-gray-400 text-sm italic">Sin permisos</span>
                      {% endif %}
                    </td>
                  </tr>
                {% empty %}
                  <tr>
                    <td colspan="6" class="px-6 py-16 text-center">
                      <div class="flex flex-col items-center justify-center space-y-4">
                        <svg class="w-16 h-16 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                        </svg>
                        <div class="text-gray-500">
                          <p class="text-xl font-semibold mb-2">No hay inscripciones registradas</p>
                          <p class="text-sm">Comienza agregando tu primera inscripción</p>
                        </div>
                      </div>
                    </td>
                  </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>

<style>
  body {
    background: linear-gradient(135deg, #e3edf7 0%, #f6fbff 50%, #e3edf7 100%);
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }
  
  /* Mejoras adicionales para formularios */
  .form-label {
    font-weight: 600;
    color: #374151;
  }

  .form-control, .form-select {
    border-radius: 0.75rem;
    border: 2px solid #e5e7eb;
    transition: all 0.3s ease;
  }

  .form-control:focus, .form-select:focus {
    border-color: #4a7abc;
    box-shadow: 0 0 0 3px rgba(74, 122, 188, 0.1);
  }

  .form-check-input:checked {
    background-color: #2a3b68;
    border-color: #1a3b68;
  }

  .form-check-label {
    font-weight: 500;
    color: #374151;
  }

  /* Scrollbar personalizada */
  .overflow-x-auto::-webkit-scrollbar {
    height: 8px;
  }

  .overflow-x-auto::-webkit-scrollbar-track {
    background: #f1f5f9;
    border-radius: 4px;
  }

  .overflow-x-auto::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 4px;
  }

  .overflow-x-auto::-webkit-scrollbar-thumb:hover {
    background: #94a3b8;
  }
</style>
{% endblock %}